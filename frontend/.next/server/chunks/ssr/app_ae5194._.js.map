{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/utils/files.tsx"],"sourcesContent":["export async function uploadFile(bucketName: string, filePath: string, file) {\n  console.log(\"Uploading file to s3\")\n  try {\n    // Create a FormData object\n    const formData = new FormData();\n    formData.append(\"bucketName\", bucketName);\n    formData.append(\"filePath\", filePath);\n    formData.append(\"file\", file);\n\n    // Send a POST request to the Next.js API route\n    const response = await fetch(\"/api/files/upload\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const error = await response.text();\n      throw new Error(`Failed to upload file: ${error}`);\n    }\n\n    const data = await response.json();\n    console.log(data.message);\n    alert(\"File uploaded successfully!\");\n  } catch (error) {\n    console.error(\"Error uploading file:\", error);\n    alert(\"Error uploading file: \" + error.message);\n  }\n}\nexport async function fetchBankStatementData(bucketName: string, filePath: string) {\n  console.log(\"Retrieving statement analysis data from textract\")\n  try {\n    const response = await fetch(\"/api/textract\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ bucketName, filePath }),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to fetch Textract data\");\n    }\n\n    const data = await response.json();\n    console.log(\"Extracted data:\", data);\n    return data;\n  } catch (error) {\n    console.error(\"Error fetching Textract data:\", error);\n    alert(\"Error fetching bank statement data: \" + error.message);\n  }\n}\nexport async function getMetaData(bucketName: string, filePath: string) {\n  console.log(\"Retrieving file data from s3\")\n  try {\n    const response = await fetch(\"/api/files/retrieve-metadata\", {\n      method: \"POST\", // Ensure this is POST\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        bucketName: bucketName,\n        directory: filePath,\n      }),\n    });\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || \"Failed to fetch Textract data\");\n    }\n\n    const data = await response.json();\n    return data.data;\n  } catch (error) {\n    console.error(\"Error retrieving file data:\", error);\n    alert(\"Error retrieving file data: \" + error.message);\n  }\n};\nexport async function processBankStatementTextract(bucketName: string, filePath: string) {\n  const response = await fetch(\"/api/files/analyze/textract\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      bucketName: bucketName,\n      filePath: filePath,\n    }),\n  });\n\n  const data = await response.json();\n  console.log(data);\n  return data\n};\n\nexport async function createNewDirectory(bucketName: string, filePath: string, newFileName: string) {\n  console.log(\"CREATING NEW DIRECTORY\")\n}\nexport async function processBankStatementTesseract(bucketName: string, filePath: string) {\n  const response = await fetch(\"/api/files/analyze/tesseract\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      bucketName: bucketName,\n      filePath: filePath,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    console.error(\"Error:\", error.error);\n    return;\n  }\n\n  const data = await response.json();\n  console.log(\"Extracted Text:\", data.data.text);\n  return data.data.text\n};\nexport async function parseBankStatementText(text: string) {\n  console.log(\"HERE\")\n  try {\n    const response = await fetch(\"/api/files/analyze/openAI/parse\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ text }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || \"Failed to process text.\");\n    }\n\n    const result = await response.json();\n    return result.parsedData;\n  } catch (error) {\n    console.error(\"Error processing bank statement:\", error);\n    throw error;\n  }\n};\nexport async function produceSummaryOpenAI(text: string) {\n  try {\n    const response = await fetch(\"/api/files/analyze/openAI/summary\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ text }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || \"Failed to process text.\");\n    }\n\n    const result = await response.json();\n    return result.parsedData;\n  } catch (error) {\n    console.error(\"Error processing bank statement:\", error);\n    throw error;\n  }\n};\nexport async function analyzeOpenAI(text: string) {\n  try {\n    const response = await fetch(\"/api/files/analyze/openAI/analysis\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ text }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || \"Failed to process text.\");\n    }\n\n    const result = await response.json();\n    return result.parsedData;\n  } catch (error) {\n    console.error(\"Error processing bank statement:\", error);\n    throw error;\n  }\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/components/FileSystem/FileSystemTreeMenu.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n\ninterface FileSystemTreeMenuProps {\n  setUploadMenuOpen: (bool: boolean) => void;\n  setCreateFolderMenuOpen: (bool: boolean) => void;\n  contextMenu: {\n    mouseX: number;\n    mouseY: number;\n    targetType: 'file' | 'folder' | 'empty';\n    targetId?: string;\n  } | null;\n  handleCloseContextMenu: () => void;\n}\n\nconst FileSystemTreeMenu: React.FC<FileSystemTreeMenuProps> = ({ setUploadMenuOpen, setCreateFolderMenuOpen,\n  contextMenu,\n  handleCloseContextMenu,\n}) => {\n\n  const handleDelete = () => {\n    console.log(`Delete ${contextMenu?.targetId}`);\n    //TODO: call delete api and remove from list of files\n    handleCloseContextMenu();\n  };\n\n  const handleUpload = () => {\n    setUploadMenuOpen(true)\n    handleCloseContextMenu();\n  };\n\n  const handleCreateFile = () => {\n    console.log('Create new file in top-level directory');\n    setCreateFolderMenuOpen(true)\n    handleCloseContextMenu();\n  };\n  return (\n    <Box\n      sx={{ minHeight: 352, minWidth: 250, position: 'relative' }}\n    >\n      <Menu\n        open={contextMenu !== null}\n        onClose={handleCloseContextMenu}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          contextMenu !== null\n            ? { top: contextMenu.mouseY, left: contextMenu.mouseX }\n            : undefined\n        }\n      >\n        {contextMenu?.targetType === 'file' && (\n          <MenuItem onClick={handleDelete}>Delete</MenuItem>\n        )}\n        {contextMenu?.targetType === 'folder' && (\n          <Box>\n            <MenuItem onClick={handleUpload}>Upload File</MenuItem>\n            <MenuItem onClick={handleDelete}>Delete</MenuItem>\n          </Box>\n        )}\n        {contextMenu?.targetType === 'empty' && (\n          <Box>\n            <MenuItem onClick={handleUpload}>Upload File</MenuItem>\n            <MenuItem onClick={handleCreateFile}>Create New File</MenuItem>\n          </Box>\n        )}\n      </Menu>\n    </Box>\n  );\n}\nexport default FileSystemTreeMenu"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAmBA,MAAM,qBAAwD,CAAC,EAAE,iBAAiB,EAAE,uBAAuB,EACzG,WAAW,EACX,sBAAsB,EACvB;IAEC,MAAM,eAAe;QACnB,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,aAAa,UAAU;QAC7C,qDAAqD;QACrD;IACF;IAEA,MAAM,eAAe;QACnB,kBAAkB;QAClB;IACF;IAEA,MAAM,mBAAmB;QACvB,QAAQ,GAAG,CAAC;QACZ,wBAAwB;QACxB;IACF;IACA,qBACE,8OAAC,+IAAA,CAAA,UAAG;QACF,IAAI;YAAE,WAAW;YAAK,UAAU;YAAK,UAAU;QAAW;kBAE1D,cAAA,8OAAC,iJAAA,CAAA,UAAI;YACH,MAAM,gBAAgB;YACtB,SAAS;YACT,iBAAgB;YAChB,gBACE,gBAAgB,OACZ;gBAAE,KAAK,YAAY,MAAM;gBAAE,MAAM,YAAY,MAAM;YAAC,IACpD;;gBAGL,aAAa,eAAe,wBAC3B,8OAAC,yJAAA,CAAA,UAAQ;oBAAC,SAAS;8BAAc;;;;;;gBAElC,aAAa,eAAe,0BAC3B,8OAAC,+IAAA,CAAA,UAAG;;sCACF,8OAAC,yJAAA,CAAA,UAAQ;4BAAC,SAAS;sCAAc;;;;;;sCACjC,8OAAC,yJAAA,CAAA,UAAQ;4BAAC,SAAS;sCAAc;;;;;;;;;;;;gBAGpC,aAAa,eAAe,yBAC3B,8OAAC,+IAAA,CAAA,UAAG;;sCACF,8OAAC,yJAAA,CAAA,UAAQ;4BAAC,SAAS;sCAAc;;;;;;sCACjC,8OAAC,yJAAA,CAAA,UAAQ;4BAAC,SAAS;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;AAMjD;uCACe"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/components/FileSystem/FileUploadMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { uploadFile } from '@/app/utils/files';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { styled } from '@mui/material/styles';\n\nconst FileInput = styled('input')({\n  display: 'none',\n});\n\nconst FileUploadMenu: React.FC<{ open: boolean; setOpen: (bool: boolean) => void; currentPath: string }> = ({ open, setOpen, currentPath }) => {\n  const [file, setFile] = useState<File | null>(null);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      setFile(event.target.files[0]);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!file) {\n      alert('Please select a file first.');\n      return;\n    }\n    try {\n      await uploadFile('iarpus-bankstatement', currentPath.replace(/\\/$/, \"\"), file);\n      alert('File uploaded successfully!');\n      setFile(null);\n      setOpen(false);\n    } catch (error) {\n      console.error('File upload failed:', error);\n      alert('File upload failed. Please try again.');\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={() => setOpen(false)} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>Upload a File</DialogTitle>\n      <DialogContent>\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" gap={2}>\n          <Typography variant=\"body1\" textAlign=\"center\">\n            Select a PDF file to upload to the current directory.\n          </Typography>\n          <label htmlFor=\"file-upload\">\n            <FileInput\n              id=\"file-upload\"\n              type=\"file\"\n              accept=\"application/pdf\"\n              onChange={handleFileChange}\n            />\n            <Button variant=\"contained\" component=\"span\">\n              {file ? file.name : 'Choose File'}\n            </Button>\n          </label>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setOpen(false)} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={handleUpload} variant=\"contained\" color=\"primary\">\n          Upload\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default FileUploadMenu;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAQA;AAJA;AAGA;AADA;AALA;AACA;AACA;AAEA;AARA;;;;;;;;;;;;AAaA,MAAM,YAAY,CAAA,GAAA,0MAAA,CAAA,SAAM,AAAD,EAAE,SAAS;IAChC,SAAS;AACX;AAEA,MAAM,iBAAqG,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE;IACxI,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAE9C,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YAC/C,QAAQ,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;QAC/B;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;YACT,MAAM;YACN;QACF;QACA,IAAI;YACF,MAAM,CAAA,GAAA,sHAAA,CAAA,aAAU,AAAD,EAAE,wBAAwB,YAAY,OAAO,CAAC,OAAO,KAAK;YACzE,MAAM;YACN,QAAQ;YACR,QAAQ;QACV,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;QACR;IACF;IAEA,qBACE,8OAAC,qJAAA,CAAA,UAAM;QAAC,MAAM;QAAM,SAAS,IAAM,QAAQ;QAAQ,UAAS;QAAK,SAAS;;0BACxE,8OAAC,+JAAA,CAAA,UAAW;0BAAC;;;;;;0BACb,8OAAC,mKAAA,CAAA,UAAa;0BACZ,cAAA,8OAAC,+IAAA,CAAA,UAAG;oBAAC,SAAQ;oBAAO,eAAc;oBAAS,YAAW;oBAAS,KAAK;;sCAClE,8OAAC,6JAAA,CAAA,UAAU;4BAAC,SAAQ;4BAAQ,WAAU;sCAAS;;;;;;sCAG/C,8OAAC;4BAAM,SAAQ;;8CACb,8OAAC;oCACC,IAAG;oCACH,MAAK;oCACL,QAAO;oCACP,UAAU;;;;;;8CAEZ,8OAAC,qJAAA,CAAA,UAAM;oCAAC,SAAQ;oCAAY,WAAU;8CACnC,OAAO,KAAK,IAAI,GAAG;;;;;;;;;;;;;;;;;;;;;;;0BAK5B,8OAAC,mKAAA,CAAA,UAAa;;kCACZ,8OAAC,qJAAA,CAAA,UAAM;wBAAC,SAAS,IAAM,QAAQ;wBAAQ,OAAM;kCAAY;;;;;;kCAGzD,8OAAC,qJAAA,CAAA,UAAM;wBAAC,SAAS;wBAAc,SAAQ;wBAAY,OAAM;kCAAU;;;;;;;;;;;;;;;;;;AAM3E;uCAEe"}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/components/FileSystem/FolderCreationMenu.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport { createNewDirectory } from '@/app/utils/files'; // Assume this utility function handles directory creation\n\n// Modal styling\nconst modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  boxShadow: 24,\n  p: 4,\n  borderRadius: '8px',\n};\n\ninterface CreateDirectoryModalProps {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n}\n\nconst FolderCreationMenu: React.FC<CreateDirectoryModalProps> = ({\n  open,\n  setOpen,\n}) => {\n  const [directoryName, setDirectoryName] = React.useState<string>('');\n\n  const handleSubmit = async () => {\n    if (directoryName.trim() === '') {\n      alert('Directory name cannot be empty.');\n      return;\n    }\n\n    try {\n      // Simulate directory creation\n      await createNewDirectory('iarpus-bankstatement', 'user1', directoryName.trim());\n      alert(`Directory \"${directoryName}\" created successfully.`);\n    } catch (error) {\n      console.error('Error creating directory:', error);\n      alert('Failed to create directory.');\n    } finally {\n      setDirectoryName(''); // Reset input field\n      setOpen(false); // Close the modal\n    }\n  };\n\n  const handleClose = () => {\n    setDirectoryName(''); // Reset input field\n    setOpen(false); // Close the modal\n  };\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <Box sx={modalStyle}>\n        <Typography variant=\"h6\" component=\"h2\" gutterBottom>\n          Create New Directory\n        </Typography>\n        <TextField\n          fullWidth\n          label=\"Directory Name\"\n          value={directoryName}\n          onChange={(e) => setDirectoryName(e.target.value)}\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\" sx={{ mt: 2 }}>\n          <Button onClick={handleClose} variant=\"outlined\">\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\n            Create\n          </Button>\n        </Stack>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default FolderCreationMenu;\n"],"names":[],"mappings":";;;;AAEA;AAOA,2MAAwD,0DAA0D;AALlH;AADA;AAEA;AACA;AAEA;AADA;AAPA;;;;;;;;;;AAWA,gBAAgB;AAChB,MAAM,aAAa;IACjB,UAAU;IACV,KAAK;IACL,MAAM;IACN,WAAW;IACX,OAAO;IACP,SAAS;IACT,WAAW;IACX,GAAG;IACH,cAAc;AAChB;AAOA,MAAM,qBAA0D,CAAC,EAC/D,IAAI,EACJ,OAAO,EACR;IACC,MAAM,CAAC,eAAe,iBAAiB,GAAG,sMAAM,QAAQ,CAAS;IAEjE,MAAM,eAAe;QACnB,IAAI,cAAc,IAAI,OAAO,IAAI;YAC/B,MAAM;YACN;QACF;QAEA,IAAI;YACF,8BAA8B;YAC9B,MAAM,CAAA,GAAA,sHAAA,CAAA,qBAAkB,AAAD,EAAE,wBAAwB,SAAS,cAAc,IAAI;YAC5E,MAAM,CAAC,WAAW,EAAE,cAAc,uBAAuB,CAAC;QAC5D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM;QACR,SAAU;YACR,iBAAiB,KAAK,oBAAoB;YAC1C,QAAQ,QAAQ,kBAAkB;QACpC;IACF;IAEA,MAAM,cAAc;QAClB,iBAAiB,KAAK,oBAAoB;QAC1C,QAAQ,QAAQ,kBAAkB;IACpC;IAEA,qBACE,8OAAC,mJAAA,CAAA,UAAK;QAAC,MAAM;QAAM,SAAS;kBAC1B,cAAA,8OAAC,+IAAA,CAAA,UAAG;YAAC,IAAI;;8BACP,8OAAC,6JAAA,CAAA,UAAU;oBAAC,SAAQ;oBAAK,WAAU;oBAAK,YAAY;8BAAC;;;;;;8BAGrD,8OAAC,2JAAA,CAAA,UAAS;oBACR,SAAS;oBACT,OAAM;oBACN,OAAO;oBACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oBAChD,SAAQ;oBACR,QAAO;;;;;;8BAET,8OAAC,mJAAA,CAAA,UAAK;oBAAC,WAAU;oBAAM,SAAS;oBAAG,gBAAe;oBAAW,IAAI;wBAAE,IAAI;oBAAE;;sCACvE,8OAAC,qJAAA,CAAA,UAAM;4BAAC,SAAS;4BAAa,SAAQ;sCAAW;;;;;;sCAGjD,8OAAC,qJAAA,CAAA,UAAM;4BAAC,SAAS;4BAAc,SAAQ;4BAAY,OAAM;sCAAU;;;;;;;;;;;;;;;;;;;;;;;AAO7E;uCAEe"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/components/FileSystem/FileSystemTree.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport { SimpleTreeView } from '@mui/x-tree-view/SimpleTreeView';\nimport { TreeItem } from '@mui/x-tree-view/TreeItem';\nimport { getMetaData, processBankStatementTesseract } from '@/app/utils/files';\nimport FileSystemTreeMenu from './FileSystemTreeMenu';\nimport FileUploadMenu from './FileUploadMenu';\nimport FolderCreationMenu from './FolderCreationMenu';\nimport { useRouter } from 'next/navigation';\nimport { useBankStatement } from '../../main/dashboard/layout'\ninterface S3Object {\n  key: string;\n  size: number;\n  lastModified: string;\n}\n\ninterface ListDirectoryResponse {\n  directory: string;\n  folders: string[];\n  files: S3Object[];\n}\n\ninterface TreeViewBaseItem {\n  id: string;\n  label: string;\n  children?: TreeViewBaseItem[];\n  hasChildren?: boolean;\n}\n\n/**\n * Maps S3 API response to TreeItems.\n */\nfunction mapS3ResponseToTreeItems(response: ListDirectoryResponse, currPath: string): TreeViewBaseItem[] {\n  const items: TreeViewBaseItem[] = [];\n\n  // Map folders\n  if (Array.isArray(response.folders)) {\n    response.folders.forEach((folder) => {\n      const folderName = folder.replace(/\\/$/, ''); // Remove trailing '/'\n      items.push({\n        id: currPath + folder,\n        label: folderName,\n        hasChildren: true,\n        children: [], // Initially empty\n      });\n    });\n  }\n\n  // Map files\n  if (Array.isArray(response.files)) {\n    response.files.forEach((file) => {\n      if (currPath == file.key) {\n        return\n      }\n      const fileName = file.key.split('/').pop() || file.key; // Extract file name\n      items.push({\n        id: file.key,\n        label: fileName,\n        hasChildren: false,\n        children: [],\n      });\n    });\n  }\n\n  return items;\n}\n\n/**\n * Recursively renders TreeItems.\n */\nfunction renderTree(node: TreeViewBaseItem, handleNodeClick: (nodeId: string, currNode: HTMLElement) => void, handleRightClick: (event: React.MouseEvent,\n  type: 'file' | 'folder' | 'empty',\n  node?: TreeViewBaseItem) => void, handleCloseContextMenu: () => void): React.ReactNode {\n\n\n  return (\n    <TreeItem\n      key={node.id}\n      itemId={node.id}\n      data-itemid={node.id}\n      label={node.label}\n      onClick={async (event) => {\n        await handleNodeClick(node.id, event.currentTarget as HTMLElement);\n      }} // Attach click handler\n      onContextMenu={(event) => handleRightClick(event, node.hasChildren ? 'folder' : 'file', node)}\n    >\n      {node.children?.map((child) => renderTree(child, handleNodeClick, handleRightClick, handleCloseContextMenu))}\n    </TreeItem>\n  );\n}\nfunction findNodeById(items: TreeViewBaseItem[], nodeId: string): TreeViewBaseItem | null {\n  for (const item of items) {\n    if (item.id === nodeId) {\n      return item; // Found the node\n    }\n    if (item.children) {\n      const found = findNodeById(item.children, nodeId); // Recursively search in children\n      if (found) {\n        return found; // Return if found in children\n      }\n    }\n  }\n  return null; // Node not found\n}\n\n/**\n * Main FileSystemTree Component\n */\nexport default function FileSystemTree() {\n  const [treeItems, setTreeItems] = React.useState<TreeViewBaseItem[]>([]);\n  const [loading, setLoading] = React.useState<boolean>(true);\n  const [error, setError] = React.useState<string | null>(null);\n  const [uploadMenuOpen, setUploadMenuOpen] = React.useState<boolean>(false);\n  const [createFolderMenuOpen, setCreateFolderMenuOpen] = React.useState<boolean>(false);\n  const [currentSelectedFilePath, setCurrentSelectedFilePath] = React.useState<string>('/user1');\n  const [contextMenu, setContextMenu] = React.useState<{\n    mouseX: number;\n    mouseY: number;\n    targetType: 'file' | 'folder' | 'empty';\n    targetId?: string;\n  } | null>(null);\n\n  const [expanded, setExpanded] = React.useState<string[]>([]); // Use array directly\n  const router = useRouter();\n  const { setBankStatementText } = useBankStatement();\n  // Fetch initial data\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await getMetaData('iarpus-bankstatement', 'user1/');\n        const mappedItems = mapS3ResponseToTreeItems(data, 'user1/');\n        setTreeItems(mappedItems);\n      } catch (err: any) {\n        console.error('Error fetching metadata:', err);\n        setError('Failed to load initial directory.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n  // Handle node clicks\n  function updateTreeItems(\n    items: TreeViewBaseItem[],\n    nodeId: string,\n    newChildren: TreeViewBaseItem[]\n  ): TreeViewBaseItem[] {\n    return items.map((item) => {\n      if (item.id === nodeId) {\n        // Update the matching node\n        return { ...item, children: newChildren };\n      } else if (item.children) {\n        // Recursively update children\n        return { ...item, children: updateTreeItems(item.children, nodeId, newChildren) };\n      }\n      return item; // Return unchanged for non-matching nodes\n    });\n  }\n\n  const handleNodeClick = async (nodeId: string) => {\n    const node = findNodeById(treeItems, nodeId);\n    handleToggle(node)\n    if (node && node.hasChildren && node.children?.length === 0) {\n      try {\n        const data = await getMetaData('iarpus-bankstatement', nodeId);\n        const newChildren = mapS3ResponseToTreeItems(data, nodeId);\n        setTreeItems((prevItems) => updateTreeItems(prevItems, nodeId, newChildren));\n      } catch (err: any) {\n        console.error('Error fetching subdirectory:', err);\n        setError(`Failed to load contents for ${nodeId}.`);\n      }\n    }\n    else if (node && !node.hasChildren) {\n      const bankStatementText = await processBankStatementTesseract('iarpus-bankstatement', node.id)\n      setBankStatementText(bankStatementText)\n      router.push('/main/dashboard/analysis/summary');\n    }\n\n  };\n  const handleRightClick = (\n    event: React.MouseEvent,\n    type: 'file' | 'folder' | 'empty',\n    node: TreeViewBaseItem\n  ) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setCurrentSelectedFilePath(node.id)\n    setContextMenu({\n      mouseX: event.clientX,\n      mouseY: event.clientY,\n      targetType: type,\n      targetId: node?.id,\n    });\n  };\n  const handleToggle = (currNode: TreeViewBaseItem,) => {\n    if (currNode.children) {\n      setExpanded((prevExpanded) => {\n        if (prevExpanded.includes(currNode.id)) {\n          // If the node is already expanded, remove it\n          return prevExpanded.filter((id) => id !== currNode.id);\n        } else {\n          // Otherwise, add it to the list of expanded nodes\n          return [...prevExpanded, currNode.id];\n        }\n      });\n    }\n  };\n  const handleCloseContextMenu = () => {\n    setContextMenu(null);\n  };\n  if (loading) return <div>Loading file system...</div>;\n  if (error) return <div>Error: {error}</div>;\n  return (\n    <Box sx={{ minHeight: 352, minWidth: 250 }}>\n      {/* Conditionally render menus */}\n      {createFolderMenuOpen && (\n        <FolderCreationMenu\n          open={createFolderMenuOpen}\n          setOpen={setCreateFolderMenuOpen}\n        />\n      )}\n      {uploadMenuOpen && (\n        <FileUploadMenu\n          currentPath={currentSelectedFilePath}\n          open={uploadMenuOpen}\n          setOpen={setUploadMenuOpen}\n        />\n      )}\n      {contextMenu && (\n        <FileSystemTreeMenu\n          setUploadMenuOpen={setUploadMenuOpen}\n          setCreateFolderMenuOpen={setCreateFolderMenuOpen}\n          contextMenu={contextMenu}\n          handleCloseContextMenu={handleCloseContextMenu}\n        />\n      )}\n      <SimpleTreeView expandedItems={expanded}>\n        {treeItems.map((node) =>\n          renderTree(node, handleNodeClick, handleRightClick, handleCloseContextMenu)\n        )}\n      </SimpleTreeView>\n    </Box>\n  );\n\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 867, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 873, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/components/FileSystem/FileSystemDrawer.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport Button from '@mui/material/Button';\nimport FileSystemTree from './FileSystemTree';\nimport FolderIcon from '@mui/icons-material/Folder';\nexport default function FileSystemDrawer() {\n  const [open, setOpen] = React.useState(false);\n\n  const toggleDrawer = (newOpen: boolean) => () => {\n    setOpen(newOpen);\n  };\n\n  const DrawerList = (\n    <Box sx={{ width: 250 }} role=\"presentation\">\n      <Box>\n        <Button onClick={toggleDrawer(false)}><FolderIcon></FolderIcon></Button>\n        <FileSystemTree />\n      </Box>\n    </Box>\n  );\n\n  return (\n    <div>\n      <Button onClick={toggleDrawer(true)}><FolderIcon></FolderIcon></Button>\n      <Drawer open={open}>\n        {DrawerList}\n      </Drawer>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AACA;AAIA;AAHA;AAEA;AAEA;AAHA;AAHA;;;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,sMAAM,QAAQ,CAAC;IAEvC,MAAM,eAAe,CAAC,UAAqB;YACzC,QAAQ;QACV;IAEA,MAAM,2BACJ,8OAAC,+IAAA,CAAA,UAAG;QAAC,IAAI;YAAE,OAAO;QAAI;QAAG,MAAK;kBAC5B,cAAA,8OAAC,+IAAA,CAAA,UAAG;;8BACF,8OAAC,qJAAA,CAAA,UAAM;oBAAC,SAAS,aAAa;8BAAQ,cAAA,8OAAC,2JAAA,CAAA,UAAU;;;;;;;;;;8BACjD,8OAAC,kJAAA,CAAA,UAAc;;;;;;;;;;;;;;;;IAKrB,qBACE,8OAAC;;0BACC,8OAAC,qJAAA,CAAA,UAAM;gBAAC,SAAS,aAAa;0BAAO,cAAA,8OAAC,2JAAA,CAAA,UAAU;;;;;;;;;;0BAChD,8OAAC,qJAAA,CAAA,UAAM;gBAAC,MAAM;0BACX;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/main/dashboard/layout.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useState, useContext } from 'react';\nimport FileSystemDrawer from '@/app/components/FileSystem/FileSystemDrawer';\n// Create a context for the bank statement\nconst BankStatementContext = createContext<{\n  bankStatementText: string;\n  setBankStatementText: React.Dispatch<React.SetStateAction<string>>;\n} | null>(null);\n\n// Create a custom hook for easier access to the context\nexport const useBankStatement = () => {\n  const context = useContext(BankStatementContext);\n  if (!context) {\n    throw new Error('useBankStatement must be used within an AnalysisLayout');\n  }\n  return context;\n};\n\nexport default function AnalysisLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [bankStatementText, setBankStatementText] = useState<string>('');\n\n  return (\n    <BankStatementContext.Provider value={{ bankStatementText, setBankStatementText }}>\n      <FileSystemDrawer></FileSystemDrawer>\n      <section>{children}</section>\n    </BankStatementContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAIA,0CAA0C;AAC1C,MAAM,qCAAuB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAG/B;AAGH,MAAM,mBAAmB;IAC9B,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEe,SAAS,eAAe,EACrC,QAAQ,EAGT;IACC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAEnE,qBACE,8OAAC,qBAAqB,QAAQ;QAAC,OAAO;YAAE;YAAmB;QAAqB;;0BAC9E,8OAAC,oJAAA,CAAA,UAAgB;;;;;0BACjB,8OAAC;0BAAS;;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 1013, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
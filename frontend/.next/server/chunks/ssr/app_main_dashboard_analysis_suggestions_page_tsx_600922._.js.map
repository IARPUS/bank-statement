{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/roychoi/Desktop/projects/bank-analysis/frontend/app/main/dashboard/analysis/suggestions/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Grid,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n} from '@mui/material';\nimport { analyzeOpenAI } from '@/app/utils/files';\nimport { useBankStatement } from '../../layout';\n\ninterface FinancialData {\n  [title: string]: {\n    [bullet: string]: string;\n  };\n}\n\nconst FinancialAnalysisPage: React.FC = () => {\n  const [financialData, setFinancialData] = useState<FinancialData | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const { bankStatementText } = useBankStatement();\n\n  useEffect(() => {\n    if (!bankStatementText) {\n      setError('No bank statement text available.');\n      setLoading(false);\n      return;\n    }\n\n    const processBankStatement = async () => {\n      try {\n        const processedData: FinancialData = await analyzeOpenAI(bankStatementText);\n        setFinancialData(processedData);\n      } catch (err: any) {\n        console.error('Error processing bank statement:', err);\n        setError('Failed to process bank statement.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    processBankStatement();\n  }, [bankStatementText]);\n\n  if (loading) {\n    return <Typography variant=\"h6\">Loading financial data...</Typography>;\n  }\n\n  if (error) {\n    return (\n      <Box>\n        <Typography variant=\"h6\" color=\"error\">\n          Error: {error}\n        </Typography>\n      </Box>\n    );\n  }\n\n  if (!financialData) {\n    return (\n      <Typography variant=\"h6\">No financial data available.</Typography>\n    );\n  }\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Analysis Overview\n      </Typography>\n\n      <Grid container spacing={3}>\n        {Object.entries(financialData).map(([title, bullets]) => (\n          <Grid item xs={12} md={6} key={title}>\n            <Paper sx={{ p: 3, height: '100%' }}>\n              <Typography variant=\"h5\" gutterBottom>\n                {title}\n              </Typography>\n              <Divider sx={{ mb: 2 }} />\n              <List>\n                {Object.entries(bullets).map(([bulletTitle, bulletText]) => (\n                  <ListItem key={bulletTitle} disablePadding>\n                    <ListItemText\n                      primary={bulletTitle}\n                      secondary={bulletText}\n                    />\n                  </ListItem>\n                ))}\n              </List>\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default FinancialAnalysisPage;\n"],"names":[],"mappings":";;;;AAEA;AAWA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;;;AAsBA,MAAM,wBAAkC;IACtC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB;IACzE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,mBAAgB,AAAD;IAE7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,mBAAmB;YACtB,SAAS;YACT,WAAW;YACX;QACF;QAEA,MAAM,uBAAuB;YAC3B,IAAI;gBACF,MAAM,gBAA+B,MAAM,CAAA,GAAA,sHAAA,CAAA,gBAAa,AAAD,EAAE;gBACzD,iBAAiB;YACnB,EAAE,OAAO,KAAU;gBACjB,QAAQ,KAAK,CAAC,oCAAoC;gBAClD,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAkB;IAEtB,IAAI,SAAS;QACX,qBAAO,8OAAC,sMAAA,CAAA,aAAU;YAAC,SAAQ;sBAAK;;;;;;IAClC;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC,iLAAA,CAAA,MAAG;sBACF,cAAA,8OAAC,sMAAA,CAAA,aAAU;gBAAC,SAAQ;gBAAK,OAAM;;oBAAQ;oBAC7B;;;;;;;;;;;;IAIhB;IAEA,IAAI,CAAC,eAAe;QAClB,qBACE,8OAAC,sMAAA,CAAA,aAAU;YAAC,SAAQ;sBAAK;;;;;;IAE7B;IAEA,qBACE,8OAAC,iLAAA,CAAA,MAAG;QAAC,IAAI;YAAE,GAAG;QAAE;;0BACd,8OAAC,sMAAA,CAAA,aAAU;gBAAC,SAAQ;gBAAK,YAAY;0BAAC;;;;;;0BAItC,8OAAC,oLAAA,CAAA,OAAI;gBAAC,SAAS;gBAAC,SAAS;0BACtB,OAAO,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,OAAO,QAAQ,iBAClD,8OAAC,oLAAA,CAAA,OAAI;wBAAC,IAAI;wBAAC,IAAI;wBAAI,IAAI;kCACrB,cAAA,8OAAC,uLAAA,CAAA,QAAK;4BAAC,IAAI;gCAAE,GAAG;gCAAG,QAAQ;4BAAO;;8CAChC,8OAAC,sMAAA,CAAA,aAAU;oCAAC,SAAQ;oCAAK,YAAY;8CAClC;;;;;;8CAEH,8OAAC,6LAAA,CAAA,UAAO;oCAAC,IAAI;wCAAE,IAAI;oCAAE;;;;;;8CACrB,8OAAC,oLAAA,CAAA,OAAI;8CACF,OAAO,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,aAAa,WAAW,iBACrD,8OAAC,gMAAA,CAAA,WAAQ;4CAAmB,cAAc;sDACxC,cAAA,8OAAC,4MAAA,CAAA,eAAY;gDACX,SAAS;gDACT,WAAW;;;;;;2CAHA;;;;;;;;;;;;;;;;uBARQ;;;;;;;;;;;;;;;;AAsBzC;uCAEe"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}